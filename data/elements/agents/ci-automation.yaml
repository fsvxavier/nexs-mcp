id: ci-automation-agent-001
name: CI/CD Automation Agent
type: agent
description: Automated agent for continuous integration and deployment workflows, including testing, building, and deployment monitoring.
status: active
version: "1.0.0"
created_at: "2025-12-20T00:00:00Z"
updated_at: "2025-12-20T00:00:00Z"
tags:
  - ci-cd
  - automation
  - devops
  - testing
category: automation
metadata:
  author: NEXS-MCP Team
  license: MIT
  difficulty: advanced
  
persona_id: technical-architect-001
skills:
  - code-review-expert-001
  - test-automation-001
  - deployment-validation-001

trigger_conditions:
  - event: git_push
    branch: main
  - event: pull_request_opened
  - event: pull_request_updated
  - event: scheduled
    cron: "0 2 * * *"  # Daily at 2 AM
    
workflow:
  - step: 1
    name: code_checkout
    description: Checkout code from repository
    actions:
      - git clone or pull latest changes
      - verify commit signature
    error_handling: fail_fast
    
  - step: 2
    name: dependency_management
    description: Install and verify dependencies
    actions:
      - Install dependencies
      - Check for security vulnerabilities
      - Verify lock file integrity
    error_handling: fail_fast
    
  - step: 3
    name: code_quality_check
    description: Run linters and static analysis
    actions:
      - Execute linters
      - Run static code analysis
      - Check code coverage
    error_handling: continue_on_warning
    failure_threshold: error
    
  - step: 4
    name: unit_tests
    description: Execute unit test suite
    actions:
      - Run unit tests
      - Generate coverage report
      - Check coverage thresholds (minimum 80%)
    error_handling: fail_fast
    retry_on_failure: true
    max_retries: 2
    
  - step: 5
    name: integration_tests
    description: Run integration tests
    actions:
      - Start test dependencies (databases, services)
      - Execute integration tests
      - Collect test artifacts
      - Cleanup test environment
    error_handling: fail_fast
    timeout: 600  # 10 minutes
    
  - step: 6
    name: build_artifacts
    description: Build application artifacts
    actions:
      - Compile/build application
      - Create Docker images
      - Tag with version and commit SHA
      - Sign artifacts
    error_handling: fail_fast
    
  - step: 7
    name: security_scan
    description: Security vulnerability scanning
    actions:
      - Scan Docker images for vulnerabilities
      - Check dependencies for known CVEs
      - SAST analysis
      - Generate security report
    error_handling: continue_on_warning
    failure_threshold: critical
    
  - step: 8
    name: deploy_staging
    description: Deploy to staging environment
    condition: branch == 'main'
    actions:
      - Push artifacts to registry
      - Deploy to staging
      - Run smoke tests
      - Health check validation
    error_handling: rollback_on_failure
    
  - step: 9
    name: performance_tests
    description: Run performance benchmarks
    condition: branch == 'main'
    actions:
      - Execute load tests
      - Run benchmark suite
      - Compare with baseline
      - Generate performance report
    error_handling: continue_on_warning
    
  - step: 10
    name: notification
    description: Send notifications
    actions:
      - Notify team on Slack/Discord
      - Update GitHub status
      - Create deployment ticket
      - Post metrics to dashboard
    error_handling: best_effort
    
monitoring:
  metrics:
    - build_duration
    - test_pass_rate
    - code_coverage
    - deployment_frequency
    - mean_time_to_recovery
  alerts:
    - condition: build_failure
      notify: team_lead
    - condition: coverage_below_threshold
      notify: developers
    - condition: security_critical
      notify: security_team
      
configuration:
  parallel_execution: true
  cache_dependencies: true
  artifact_retention_days: 30
  log_level: info
  notifications_enabled: true
  
examples:
  - trigger: pull_request_opened
    outcome: |
      - Checked out PR branch
      - Installed dependencies (45s)
      - Passed linting checks
      - Unit tests: 150/150 passed (23s)
      - Integration tests: 45/45 passed (3m 12s)
      - Code coverage: 87.3%
      - Security scan: No critical issues
      - Status: âœ… All checks passed
